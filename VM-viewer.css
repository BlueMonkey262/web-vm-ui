/* Reworked to match the style & variables used in edit.css (modern dark theme) */

:root {
    --bg-0: #071129;
    --bg-1: #0b1320;
    --card: #0f1720;
    --muted: #9aa6b2;
    --text: #e6eef6;
    --accent: #4f8bf9;
    --accent-2: #7dd3fc;
    --success: #22c55e;
    --danger: #ff6b6b;
    --glass: rgba(255,255,255,0.03);
    --radius: 10px;
    --shadow: 0 10px 40px rgba(2,6,23,0.7); /* slightly stronger overall shadow */
    --topbar-height: 2.1rem; /* restored original size */
    --btn-radius: 6px; /* slightly tighter buttons */
    --btn-padding-x: 0.5rem; /* reduced horizontal padding for smaller buttons */
    --btn-font-color: #ffffff;
}

/* utility */
.hidden { display: none !important; }

/* base */
html, body {
    height: 100%;
    margin: 0;
    background: linear-gradient(180deg, var(--bg-0) 0%, var(--bg-1) 100%);
    color: var(--text);
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Topbar (keeps fixed behavior but uses card-like visual) */
#topbar {
    width: 100%;
    height: var(--topbar-height);
    display: flex;
    align-items: center;
    gap: 0.4rem; /* slightly tighter spacing */
    padding: 0 0.6rem; /* slightly less horizontal padding */
    box-shadow: 0 12px 36px rgba(2,6,23,0.72); /* visual weight retained */
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1000;
    /* stronger, slightly more opaque background so it separates from page */
    background: linear-gradient(180deg, rgba(15,23,32,0.92), rgba(6,12,20,0.86));
    border-bottom: 1px solid rgba(127,170,255,0.06); /* subtle cool accent line */
    backdrop-filter: blur(8px);
}

/* Buttons inside topbar (made smaller) */
.connectBtn {
    padding: 0.18rem var(--btn-padding-x); /* reduced vertical and horizontal padding */
    border-radius: var(--btn-radius);
    min-width: 5.2em; /* reduced width */
    cursor: pointer;
    font-weight: 700;
    color: var(--btn-font-color);
    border: none;
    box-shadow: none; /* flatter, smaller appearance */
    font-size: 0.86rem; /* smaller text */
}
.connectBtn.start {
    background: linear-gradient(90deg, #54c04a, #2fa33f);
}
.connectBtn.stop {
    background: linear-gradient(90deg, #ff6b6b, #e34a3a);
}

/* Home button */
#home {
    color: var(--btn-font-color);
    background: transparent;
    border: none;
    cursor: pointer;
    padding-left: 0.08em;
    align-items: center;
    font-weight: 600;
    font-size: 0.88rem; /* slightly smaller */
}

/* action buttons (Ctrl+Alt+Del, fullscreen, password toggle) â€” reduced size */
#sendCtrlAltDel,
.enterfullscreen,
.openPassword {
    color: var(--btn-font-color);
    background: linear-gradient(90deg, var(--accent), var(--accent-2));
    border: none;
    border-radius: var(--btn-radius);
    padding: 0.16rem 0.42rem; /* reduced padding */
    cursor: pointer;
    font-weight: 700;
    font-size: 0.82rem; /* smaller text */
}

/* spice area centered like before */
#spice-area {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: calc(100% - 3rem);
    max-width: 1400px;
    height: calc(100% - var(--topbar-height) - 3rem);
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: auto;
}

/* Viewer canvas: responsive and contained */
#viewer canvas {
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    border-radius: 8px;
    box-shadow: 0 12px 40px rgba(2,6,23,0.6);
    background: #000; /* fallback for black canvas */
}

/* Password input: kept animated but restyled */
#password {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.04));
    border: 1px solid rgba(255,255,255,0.04);
    border-radius: 8px;
    padding: 0.45rem 0.6rem;
    color: var(--text);
    opacity: 0;
    transform: scale(0.96);
    pointer-events: none;
    transition: opacity 140ms ease, transform 140ms ease;
    min-width: 220px;
    box-shadow: inset 0 -1px 0 rgba(0,0,0,0.18);
}
#password.active {
    opacity: 1;
    transform: scale(1);
    pointer-events: auto;
}

/* subtle pop animation utility kept */
@keyframes popout {
    from { opacity: 0; transform: scale(0.95); }
    to   { opacity: 1; transform: scale(1); }
}

/* small responsive tweaks */
@media (max-width: 900px) {
    #spice-area { width: calc(100% - 1.2rem); height: calc(100% - var(--topbar-height) - 1.2rem); }
    #password { min-width: 180px; }
}

/* Accessibility focus */
button:focus, input:focus, #viewer canvas:focus {
    outline: 3px solid rgba(127,170,255,0.12);
    outline-offset: 3px;
}

/* kept legacy color variables for compatibility with any existing JS that referenced them */
:root {
    --activeBackground: var(--bg-1);
    --activeForeground: var(--text);
    --inactiveBackground: linear-gradient(180deg, var(--bg-0), var(--bg-1));
    --inactiveForeground: var(--muted);
    --inactiveBlend: rgba(255,255,255,0.04);
}